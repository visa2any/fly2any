@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* CSS Variables for Mobile Navigation */
  :root {
    --bottom-nav-height: 56px;
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --bottom-nav-total: calc(var(--bottom-nav-height) + var(--safe-area-bottom));
  }

  /* PWA Safe Area: Prevent browser chrome overlap */
  html {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) 0 env(safe-area-inset-left);
  }

  body {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden;
    position: relative;
    width: 100%;
    max-width: 100vw;
  }

  /* PWA Standalone Mode: Hide header for clean fullscreen */
  @media (display-mode: standalone) {
    :root {
      --header-display: none;
    }

    html {
      padding-top: 0;
    }
  }

  /* Mobile Bottom Navigation Utilities */
  @media (max-width: 767px) {
    /* Ensure content doesn't get hidden behind bottom nav */
    .mobile-bottom-safe {
      padding-bottom: var(--bottom-nav-total);
    }

    /* For scrollable containers that need bottom padding */
    .mobile-scroll-safe {
      padding-bottom: calc(var(--bottom-nav-total) + 16px);
    }

    /* Safe area bottom padding for bottom sheets */
    .safe-area-bottom {
      padding-bottom: var(--safe-area-bottom);
    }
  }

  /* Accessibility: Screen reader only content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only-focusable:focus,
  .sr-only-focusable:active {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Accessibility: Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Accessibility: Focus visible (keyboard navigation) - Enhanced visibility */
  *:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  *:focus-visible {
    outline: 3px solid #D63A35;
    outline-offset: 3px;
    box-shadow: 0 0 0 3px rgba(214, 58, 53, 0.2);
  }

  /* Accessibility: Skip to main content link */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: #D63A35;
    color: #F4F5F6;
    padding: 8px 16px;
    text-decoration: none;
    z-index: 100;
    border-radius: 0 0 4px 0;
  }

  .skip-link:focus {
    top: 0;
  }

  /* Accessibility: Disabled state minimum contrast */
  button:disabled,
  input:disabled,
  select:disabled,
  textarea:disabled {
    opacity: 0.6; /* Changed from 0.3 for better contrast */
    cursor: not-allowed;
  }

  /* Accessibility: Minimum text size for small text */
  .text-xs {
    font-size: 0.875rem; /* 14px minimum instead of 12px */
  }

  /* Accessibility: High contrast mode support */
  @media (prefers-contrast: high) {
    * {
      border-width: 2px !important;
    }

    *:focus-visible {
      outline-width: 4px !important;
    }
  }

  /* iOS Safari: Touch optimization for all interactive elements */
  button,
  a,
  input,
  select,
  textarea,
  [role="button"],
  [tabindex]:not([tabindex="-1"]) {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    touch-action: manipulation;
  }

  /* iOS: Minimum touch target size (44x44px Apple Human Interface Guidelines) */
  /* NOTE: Apply selectively to avoid affecting slider dots and small indicators */
  @media (pointer: coarse) {
    /* Primary interactive elements get 44px minimum */
    button:not(.slider-dot):not(.indicator-dot),
    a:not(.slider-dot):not(.indicator-dot),
    [role="button"]:not(.slider-dot):not(.indicator-dot) {
      min-height: 44px;
      min-width: 44px;
    }

    /* Allow smaller targets when explicitly marked */
    .touch-sm,
    .slider-dot,
    .indicator-dot {
      min-height: auto;
      min-width: auto;
    }
  }

  /* iOS: Prevent text size adjustment on orientation change */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* iOS: Smooth momentum scrolling for dropdowns */
  .overflow-y-auto,
  .overflow-x-auto,
  .overflow-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* iOS: Fix for sticky position in Safari */
  @supports (-webkit-touch-callout: none) {
    .sticky {
      position: -webkit-sticky;
      position: sticky;
    }
  }
}

@layer utilities {
  /* ===== CORE WEB VITALS - CLS PREVENTION ===== */
  /* Reserve space for images to prevent layout shift */
  .aspect-card {
    aspect-ratio: 16 / 9;
  }

  .aspect-hero {
    aspect-ratio: 21 / 9;
  }

  .aspect-thumbnail {
    aspect-ratio: 4 / 3;
  }

  .aspect-avatar {
    aspect-ratio: 1 / 1;
  }

  /* Content visibility for below-fold performance */
  .content-visibility-auto {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }

  /* Skeleton loading placeholder - prevents CLS */
  .skeleton {
    background: linear-gradient(
      90deg,
      #f0f0f0 25%,
      #e0e0e0 50%,
      #f0f0f0 75%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s ease-in-out infinite;
  }

  @keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Fixed height containers for common elements */
  .h-card-fixed {
    min-height: 280px;
  }

  .h-hero-fixed {
    min-height: 400px;
  }

  /* Font display optimization */
  .font-display-swap {
    font-display: swap;
  }

  /* GPU acceleration for smooth animations (use sparingly) */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }

  /* Smooth scale hover effect */
  .hover\:scale-102:hover {
    transform: scale(1.02);
  }

  /* Subtle pulse animation for urgency indicators */
  @keyframes pulse-subtle {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.85;
    }
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Slide down animation */
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slideDown {
    animation: slideDown 0.3s ease-out;
  }

  /* Conversion Optimization Animations */
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(255, 165, 0, 0.5);
    }
    50% {
      box-shadow: 0 0 20px rgba(255, 165, 0, 0.8);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes shimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  .animate-shimmer {
    animation: shimmer 3s linear infinite;
    background-size: 200% auto;
  }

  @keyframes count-up {
    0% {
      transform: translateY(10px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-count-up {
    animation: count-up 0.3s ease-out;
  }

  @keyframes slide-up-fade {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up-fade {
    animation: slide-up-fade 0.4s ease-out;
  }

  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient-shift {
    animation: gradient-shift 3s ease infinite;
    background-size: 200% 200%;
  }

  @keyframes flame-pulse {
    0%, 100% {
      transform: scale(1);
      filter: brightness(1);
    }
    50% {
      transform: scale(1.1);
      filter: brightness(1.3);
    }
  }

  .animate-flame-pulse {
    animation: flame-pulse 1.5s ease-in-out infinite;
  }

  @keyframes bounce-gentle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  .animate-bounce-gentle {
    animation: bounce-gentle 2s ease-in-out infinite;
  }

  /* Journey Page Animations */
  @keyframes gradient-x {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient-x {
    animation: gradient-x 3s ease infinite;
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  .animation-delay-100 {
    animation-delay: 100ms;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  /* Max-width container constraint - ensures 1600px across all environments */
  .max-w-container {
    max-width: 1600px !important;
  }

  /* UI/UX Enhancement Utilities */

  /* Standardized button hover effects */
  .btn-hover-lift {
    @apply transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-[0.98];
  }

  /* Standardized card styling */
  .card-standard {
    @apply bg-white/90 backdrop-blur-md rounded-2xl border-2 border-gray-200/50 p-6 transition-all duration-200;
  }

  .card-hover {
    @apply hover:border-primary-300 hover:shadow-xl hover:scale-[1.02];
  }

  /* ==========================================
     ðŸŽ¯ MOBILE-FIRST DESIGN SYSTEM v2.0
     ==========================================

     This is the DEFINITIVE mobile-first system.
     ALL components MUST follow these patterns.

     Core Principles:
     1. Mobile-first: Base styles are mobile, enhance with md:
     2. Touch-optimized: 44px minimum tap targets
     3. Compact mobile: Less padding, tighter spacing
     4. Premium feel: Smooth interactions, visual feedback
     ========================================== */

  /* ==========================================
     ðŸ”˜ MOBILE-FIRST BUTTONS
     Use these for ALL buttons
     ========================================== */

  /* Primary action button - CTA, Submit, Search - Apple-Class */
  .mobile-btn-primary {
    @apply w-full flex items-center justify-center gap-2
           min-h-[44px] md:min-h-[48px]
           py-2.5 px-4 md:py-3 md:px-6
           bg-gradient-to-r from-primary-500 to-primary-600
           hover:from-primary-600 hover:to-primary-700
           text-white font-bold
           text-sm md:text-base
           rounded-xl
           transition-all duration-200
           active:scale-[0.98] touch-manipulation
           shadow-lg shadow-primary-500/25 hover:shadow-xl;
  }

  /* Secondary button - Cancel, Back, Alternative actions - Apple-Class */
  .mobile-btn-secondary {
    @apply w-full flex items-center justify-center gap-2
           min-h-[44px] md:min-h-[48px]
           py-2.5 px-4 md:py-3 md:px-6
           bg-neutral-100 hover:bg-neutral-200
           text-neutral-700 font-semibold
           text-sm md:text-base
           rounded-xl
           border-2 border-neutral-200 hover:border-neutral-300
           transition-all duration-200
           active:scale-[0.98] touch-manipulation;
  }

  /* Ghost/Outline button - Apple-Class */
  .mobile-btn-ghost {
    @apply flex items-center justify-center gap-2
           min-h-[44px] md:min-h-[48px]
           py-2 px-3 md:py-2.5 md:px-4
           bg-transparent hover:bg-neutral-50
           text-neutral-600 hover:text-neutral-800
           font-semibold text-sm
           rounded-xl
           transition-all duration-200
           active:scale-[0.98] touch-manipulation;
  }

  /* Icon-only button - Apple-Class */
  .mobile-btn-icon {
    @apply flex items-center justify-center
           w-10 h-10 md:w-11 md:h-11
           bg-neutral-50 hover:bg-neutral-100
           text-neutral-600 hover:text-neutral-800
           rounded-full
           transition-all duration-200
           active:scale-90 touch-manipulation;
  }

  /* Tab/Chip button - Apple-Class */
  .mobile-btn-tab {
    @apply flex-shrink-0 flex items-center gap-1.5
           min-h-[36px] md:min-h-[40px]
           py-1.5 px-3 md:py-2 md:px-4
           bg-white hover:bg-neutral-50
           text-neutral-600
           font-semibold text-xs md:text-sm
           rounded-xl
           border-2 border-neutral-200 hover:border-primary-400
           whitespace-nowrap
           transition-all duration-200
           active:scale-95 touch-manipulation;
  }

  .mobile-btn-tab-active {
    @apply bg-primary-50 border-primary-400 text-primary-600;
  }

  /* ==========================================
     ðŸ“ MOBILE-FIRST FORM INPUTS - Apple-Class
     Use these for ALL form elements
     ========================================== */

  /* Standard input field - Apple-Class */
  .mobile-input {
    @apply w-full
           min-h-[48px]
           py-3 px-3 md:py-3 md:px-4
           bg-white
           border-2 border-neutral-200 hover:border-primary-400
           focus:border-primary-500 focus:ring-2 focus:ring-primary-100
           text-neutral-800 placeholder:text-neutral-400
           text-sm md:text-base font-medium
           rounded-xl
           transition-all duration-200
           touch-manipulation outline-none;
  }

  /* Input with icon (left) */
  .mobile-input-icon-left {
    @apply mobile-input pl-10 md:pl-11;
  }

  /* Input with icon (right) */
  .mobile-input-icon-right {
    @apply mobile-input pr-10 md:pr-11;
  }

  /* Select dropdown button - Apple-Class */
  .mobile-select {
    @apply w-full relative
           min-h-[48px]
           py-3 px-3 md:py-3 md:px-4
           bg-white
           border-2 border-neutral-200 hover:border-primary-400
           text-neutral-800 text-left
           text-sm md:text-base font-medium
           rounded-xl
           transition-all duration-200
           active:scale-[0.98] touch-manipulation
           cursor-pointer;
  }

  /* Label for inputs - Apple-Class */
  .mobile-label {
    @apply flex items-center gap-1.5
           text-xs md:text-sm
           font-semibold text-neutral-600
           mb-1.5 md:mb-2;
  }

  /* ==========================================
     ðŸ“¦ MOBILE-FIRST CARDS & CONTAINERS - Apple-Class
     ========================================== */

  /* Standard card - Apple-Class */
  .mobile-card {
    @apply w-full
           bg-white
           border-2 border-neutral-200
           rounded-2xl
           p-3 md:p-5
           shadow-sm hover:shadow-md
           transition-shadow duration-200;
  }

  /* Card with no border/shadow (flat) - Apple-Class */
  .mobile-card-flat {
    @apply w-full
           bg-neutral-50
           rounded-2xl
           p-3 md:p-5;
  }

  /* Interactive card (clickable) - Apple-Class */
  .mobile-card-interactive {
    @apply mobile-card
           cursor-pointer
           active:scale-[0.99]
           touch-manipulation
           hover:border-primary-400;
  }

  /* Bottom sheet container - Apple-Class */
  .mobile-bottom-sheet {
    @apply fixed inset-x-0 bottom-0
           bg-white/95 backdrop-blur-xl
           rounded-t-3xl
           shadow-2xl
           border-t border-neutral-200
           z-50
           max-h-[90vh]
           overflow-hidden;
  }

  /* Bottom sheet drag handle - Apple-Class */
  .mobile-drag-handle {
    @apply flex justify-center py-2;
  }

  .mobile-drag-handle::before {
    content: '';
    @apply w-10 h-1 bg-neutral-300 rounded-full;
  }

  /* Dropdown container - Apple-Class */
  .mobile-dropdown {
    @apply absolute z-50
           w-full md:w-auto min-w-[280px]
           mt-2
           bg-white/95 backdrop-blur-xl
           rounded-2xl
           shadow-2xl
           border border-neutral-200
           overflow-hidden
           animate-scaleIn;
  }

  /* ==========================================
     ðŸ“ MOBILE-FIRST SPACING
     ========================================== */

  /* Section spacing */
  .mobile-section {
    @apply py-4 md:py-8 lg:py-12;
  }

  /* Component margin bottom */
  .mobile-mb {
    @apply mb-3 md:mb-6;
  }

  /* Inner padding - compact mobile */
  .mobile-p {
    @apply p-3 md:p-5 lg:p-6;
  }

  /* Horizontal padding */
  .mobile-px {
    @apply px-3 md:px-5 lg:px-6;
  }

  /* Gap for flex/grid */
  .mobile-gap {
    @apply gap-2 md:gap-4;
  }

  /* Stack spacing */
  .mobile-stack {
    @apply space-y-2 md:space-y-4;
  }

  /* ==========================================
     ðŸ“ MOBILE-FIRST TYPOGRAPHY
     ========================================== */

  /* Hero text */
  .mobile-text-hero {
    @apply text-2xl md:text-4xl lg:text-5xl
           font-bold text-gray-900
           leading-tight;
  }

  /* Section title */
  .mobile-text-title {
    @apply text-xl md:text-2xl lg:text-3xl
           font-bold text-gray-900
           leading-tight;
  }

  /* Card title */
  .mobile-text-heading {
    @apply text-base md:text-lg
           font-semibold text-gray-900;
  }

  /* Body text */
  .mobile-text-body {
    @apply text-sm md:text-base
           text-gray-700
           leading-relaxed;
  }

  /* Caption/Small text */
  .mobile-text-caption {
    @apply text-xs md:text-sm
           text-gray-500;
  }

  /* Tiny text (badges, labels) */
  .mobile-text-tiny {
    @apply text-[10px] md:text-xs
           font-medium text-gray-500;
  }

  /* Price display */
  .mobile-text-price {
    @apply text-2xl md:text-3xl lg:text-4xl
           font-bold text-gray-900;
  }

  /* ==========================================
     ðŸ”„ MOBILE-FIRST HORIZONTAL SCROLL
     For tabs, chips, quick actions
     ========================================== */

  .mobile-scroll-x {
    @apply flex overflow-x-auto
           gap-2 md:gap-3
           pb-2
           -mx-3 px-3 md:mx-0 md:px-0
           scrollbar-hide
           scroll-smooth snap-x snap-mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .mobile-scroll-x > * {
    @apply snap-start flex-shrink-0;
  }

  /* ==========================================
     ðŸŽ¨ MOBILE-FIRST VISUAL ELEMENTS
     ========================================== */

  /* Badge */
  .mobile-badge {
    @apply inline-flex items-center gap-1
           px-2 py-0.5 md:px-2.5 md:py-1
           bg-gray-100 text-gray-700
           text-[10px] md:text-xs
           font-medium
           rounded-full;
  }

  .mobile-badge-primary {
    @apply bg-primary-50 text-primary-700;
  }

  .mobile-badge-success {
    @apply bg-green-50 text-green-700;
  }

  .mobile-badge-warning {
    @apply bg-amber-50 text-amber-700;
  }

  /* Chip (selectable) */
  .mobile-chip {
    @apply inline-flex items-center gap-1.5
           px-3 py-1.5 md:px-4 md:py-2
           bg-white border border-gray-200
           text-gray-700 text-xs md:text-sm font-medium
           rounded-full
           transition-all duration-200
           active:scale-95 touch-manipulation
           cursor-pointer;
  }

  .mobile-chip-selected {
    @apply bg-primary-50 border-primary-300 text-primary-700;
  }

  /* Divider */
  .mobile-divider {
    @apply h-px w-full bg-gray-200 my-3 md:my-4;
  }

  /* ==========================================
     ðŸ–ï¸ MOBILE TOUCH INTERACTIONS
     Always use these on interactive elements
     ========================================== */

  /* Base touch optimization */
  .mobile-touch {
    @apply touch-manipulation
           select-none
           active:scale-[0.98]
           transition-transform duration-100;
    -webkit-tap-highlight-color: transparent;
  }

  /* Enhanced touch feedback */
  .mobile-touch-bounce {
    @apply touch-manipulation
           active:scale-95
           transition-transform duration-150;
    -webkit-tap-highlight-color: transparent;
  }

  /* Touch with opacity feedback */
  .mobile-touch-opacity {
    @apply touch-manipulation
           active:opacity-70
           transition-opacity duration-100;
    -webkit-tap-highlight-color: transparent;
  }

  /* ==========================================
     ðŸ“± MOBILE-ONLY / DESKTOP-ONLY UTILITIES
     ========================================== */

  .mobile-only {
    @apply block md:hidden;
  }

  .desktop-only {
    @apply hidden md:block;
  }

  .mobile-only-flex {
    @apply flex md:hidden;
  }

  .desktop-only-flex {
    @apply hidden md:flex;
  }

  /* ==========================================
     ðŸŽ¯ MOBILE-FIRST TAP TARGETS
     CRITICAL: All interactive elements must be 44px+
     ========================================== */

  .tap-target-44 {
    @apply min-h-[44px] min-w-[44px];
  }

  .tap-target-48 {
    @apply min-h-[48px] min-w-[48px];
  }

  /* Legacy alias - use tap-target-44 instead */
  .tap-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* ==========================================
     ðŸŒˆ MOBILE-FIRST SHADOWS
     Subtle on mobile, enhanced on desktop
     ========================================== */

  .mobile-shadow-sm {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  }

  .mobile-shadow {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .mobile-shadow-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.10);
  }

  @media (min-width: 768px) {
    .mobile-shadow-sm {
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    }

    .mobile-shadow {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.10);
    }

    .mobile-shadow-lg {
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }
  }

  /* Legacy alias */
  .mobile-card-shadow {
    box-shadow: 0 2px 8px rgba(27, 28, 32, 0.06);
  }

  @media (min-width: 768px) {
    .mobile-card-shadow {
      box-shadow: 0 6px 20px rgba(27, 28, 32, 0.10);
    }
  }

  /* Toast slide-in animation */
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slideIn {
    animation: slideIn 0.3s ease-out;
  }

  /* Fade in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
  }

  /* Scale in animation */
  @keyframes scaleIn {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-scaleIn {
    animation: scaleIn 0.3s ease-out;
  }

  /* Skeleton loading shimmer */
  @keyframes skeleton-shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      rgba(229, 231, 235, 1) 0%,
      rgba(243, 244, 246, 1) 50%,
      rgba(229, 231, 235, 1) 100%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 2s linear infinite;
  }

  /* Focus states for better accessibility */
  .focus-primary:focus {
    @apply outline-none ring-4 ring-primary-300 ring-opacity-50;
  }

  .focus-error:focus {
    @apply outline-none ring-4 ring-red-300 ring-opacity-50;
  }

  /* Error state styling */
  .error-input {
    @apply border-red-500 focus:border-red-600 focus:ring-red-300;
  }

  /* Success state styling */
  .success-input {
    @apply border-green-500 focus:border-green-600 focus:ring-green-300;
  }

  /* Loading state */
  .loading-overlay {
    @apply fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex items-center justify-center;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  /* ==========================================
     WORLD CUP PAGE LAYOUT (SCOPED)
     Only applies to World Cup 2026 page
     ========================================== */
  /* Basic overflow prevention - safe for all pages */
  html,
  body {
    overflow-x: hidden;
  }

  /* World Cup page specific styles - scoped to avoid affecting other pages */
  /* Only apply aggressive full-width styles to World Cup page */
  body:has([data-page="world-cup-2026"]) section {
    width: 100%;
    max-width: 100vw;
  }

  /* World Cup hero section - scoped to avoid breaking other pages */
  body:has([data-page="world-cup-2026"]) section:first-of-type {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    margin: 0 auto;
  }

  body:has([data-page="world-cup-2026"]) section:first-of-type > div {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

  /* ==========================================
     FIFA WORLD CUP 2026 - DYNAMIC ANIMATIONS
     Celebration, energy, and excitement
     ========================================== */

  @keyframes subtle-zoom {
    0%, 100% { transform: scale(1.1); }
    50% { transform: scale(1.15); }
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0) translateX(0) rotate(0deg);
      opacity: 0.4;
    }
    25% {
      transform: translateY(-20px) translateX(10px) rotate(90deg);
      opacity: 0.6;
    }
    50% {
      transform: translateY(-40px) translateX(-10px) rotate(180deg);
      opacity: 0.3;
    }
    75% {
      transform: translateY(-20px) translateX(15px) rotate(270deg);
      opacity: 0.5;
    }
  }

  @keyframes beam {
    0% {
      opacity: 0.1;
      transform: translateY(-100%);
    }
    50% {
      opacity: 0.3;
      transform: translateY(0%);
    }
    100% {
      opacity: 0.1;
      transform: translateY(100%);
    }
  }

  @keyframes slide {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 60px 60px;
    }
  }

  .animate-subtle-zoom {
    animation: subtle-zoom 20s ease-in-out infinite;
  }

  .animate-gradient-shift {
    animation: gradient-shift 10s ease infinite;
    background-size: 200% 200%;
  }

  .animate-float {
    animation: float var(--duration, 15s) ease-in-out infinite;
  }

  .animate-beam {
    animation: beam 6s ease-in-out infinite;
  }

  /* Slide up animation for mobile CTA bar */
  @keyframes slide-up {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }

  /* Scale in animation */
  @keyframes scale-in {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out forwards;
  }
}
